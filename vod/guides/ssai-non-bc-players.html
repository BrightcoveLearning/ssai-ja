---
title: 'ブライトコーブ以外のプレーヤーとSDKを使用したSSAIの実装' 
description: このトピックでは、ブライトコーブのサーバーサイド広告挿入 (SSAI) を BrightCove 以外のプレイヤーと SDK で使用する方法を学習します。
parent: Video-On-Demand Guides
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">概要</h2>

<p>サーバーサイド広告挿入（SSAI）を使用すると、動画に広告を埋め込むことで、ブラウザーの広告ブロッカーで広告をブロックできないテレビのような視聴体験を提供できます。SSAIでは、<a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">次世代の取り込みおよび配信システムであるダイナミックデリバリーを使用して動画を取り込む必要があります。ダイナミックデリバリーは</a>、ストレージフットプリントを削減し、メディアを動的にパッケージ化することです。</p>

<p>SSAI は DRM コンテンツと DRM 以外のコンテンツの両方で動作します。</p>

<aside class="bcls-aside bcls-aside--information">注意:
<ul>
	<li>SSAI を使用するには、Video Cloud <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">アカウントをダイナミック配信に設定し</a>、SSAI を有効にする必要があります。この機能の使用を開始するには、アカウントマネージャーにお問い合わせください。</li>
	<li>SSAI はビデオオンデマンド (VOD) で動作し、ライブ再生をサポートしています。</li>
	<li>制限事項の一覧については、<a href="https://ssai.support.brightcove.com/getting-started/video-cloud-ssai-overview.html#Limitations"> SSAI</a>の概要ドキュメントを参照してください。</li>
</ul>
</aside>

<p>動的配信で取り込んだ動画には、VMAP ファイルで指定された広告が広告設定に含まれます。</p>

<p>Video Cloud に保存されている動画コンテンツを使用してサーバーサイド広告を再生するには、次の手順に従います。</p>

<ol class="bcls-tasklist">
  <li><a href="#Defining_an_ad_tag">広告タグを定義する</a></li>
  <li><a href="#Testing_your_ad_tag">広告タグをテストする</a></li>
	<li><a href="#Creating_an_ad_configuration">広告設定を作成する</a></li>
  <li><a href="#Requesting_a_Video">動画をリクエストする</a></li>
  <li><a href="#Configuring_your_player">プレイヤーを設定する</a></li>
</ol>
<p>追加のトピックを次に示します。</p>
<ul>
  <li><a href="#Ad_tag_variables">広告タグ変数</a></li>
  <li><a href="#Server_side_beaconing">サーバーサイドビーコン</a></li> 
</ul>
</section>

<section class="bcls-section">
<h2 id="Defining_an_ad_tag">広告タグの定義</h2>
<p>広告タグは、取得および再生される広告を定義します。次のいずれかの形式を使用できます。</p>
<ul>
  <li><a href="https://www.iab.com/guidelines/vast/">デジタル動画広告配信テンプレート (VAST)</a> -1 つの広告を定義します。</li>
  <li><a href="https://www.iab.com/guidelines/vmap/">動画複数広告プレイリスト（VMAP）</a> -広告のプレイリストを定義します。VMAP ファイルは、VAST タグのコレクションです。</li>
</ul>
<details>
    <summary><p id="Using_the_CodePen">サンプル VMAP ファイル</p></summary>
    <p>次に、VMAP ファイルの例を示します。</p>
    <pre class="line-numbers"><code class="language-xml-doc" translate="No">&lt;vmap:VMAP xmlns:vmap=&quot;http://www.iab.net/videosuite/vmap&quot; version=&quot;1.0&quot;&gt;
  &lt;vmap:AdBreak timeOffset=&quot;start&quot; breakType=&quot;linear&quot; breakId=&quot;preroll&quot;&gt;
    &lt;vmap:AdSource id=&quot;preroll-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot;&gt;
          &lt;Ad id=&quot;1&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem version=&quot;1.0&quot;&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;
                &lt;![CDATA[ Portals ]]&gt;
              &lt;/AdTitle&gt;
              &lt;Description&gt;
                &lt;![CDATA[ Demo ad number 6 ]]&gt;
              &lt;/Description&gt;
              &lt;Error&gt;
                &lt;![CDATA[ ]]&gt;
              &lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear&gt;
                    &lt;Duration&gt;00:00:05&lt;/Duration&gt;
                    &lt;TrackingEvents/&gt;
                    &lt;AdParameters&gt;
                      &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                    &lt;MediaFiles&gt;
                      &lt;MediaFile type=&quot;video/mp4&quot; width=&quot;1280&quot; height=&quot;720&quot; delivery=&quot;progressive&quot; id=&quot;2&quot; bitrate=&quot;4316&quot; minBitrate=&quot;320&quot; maxBitrate=&quot;320&quot; scalable=&quot;true&quot; maintainAspectRatio=&quot;true&quot;&gt;
                        &lt;![CDATA[ https://general.support.brightcove.com/assets/ads/bc-ads/bcls-ad-6-5seconds.mp4 ]]&gt;
                      &lt;/MediaFile&gt;
                    &lt;/MediaFiles&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak timeOffset=&quot;00:00:05&quot; breakType=&quot;linear&quot; breakId=&quot;midroll&quot;&gt;
    &lt;vmap:AdSource id=&quot;midroll-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot;&gt;
          &lt;Ad id=&quot;2&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem version=&quot;1.0&quot;&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;
                &lt;![CDATA[ Marketing ]]&gt;
              &lt;/AdTitle&gt;
              &lt;Description&gt;
                &lt;![CDATA[ Demo ad number 4 ]]&gt;
              &lt;/Description&gt;
              &lt;Error&gt;
                &lt;![CDATA[ ]]&gt;
              &lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear skipoffset=&quot;00:00:05&quot;&gt;
                    &lt;Duration&gt;00:00:12&lt;/Duration&gt;
                    &lt;TrackingEvents/&gt;
                    &lt;AdParameters&gt;
                      &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                    &lt;MediaFiles&gt;
                      &lt;MediaFile type=&quot;video/mp4&quot; width=&quot;1280&quot; height=&quot;720&quot; delivery=&quot;progressive&quot; id=&quot;3&quot; bitrate=&quot;3026&quot; minBitrate=&quot;320&quot; maxBitrate=&quot;320&quot; scalable=&quot;true&quot; maintainAspectRatio=&quot;true&quot;&gt;
                        &lt;![CDATA[ https://general.support.brightcove.com/assets/ads/bc-ads/bcls-ad-4-12seconds.mp4 ]]&gt;
                      &lt;/MediaFile&gt;
                    &lt;/MediaFiles&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak timeOffset=&quot;end&quot; breakType=&quot;linear&quot; breakId=&quot;postroll&quot;&gt;
    &lt;vmap:AdSource id=&quot;postroll-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot;&gt;
          &lt;Ad id=&quot;3&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem version=&quot;1.0&quot;&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;
                &lt;![CDATA[ Brand ]]&gt;
              &lt;/AdTitle&gt;
              &lt;Description&gt;
                &lt;![CDATA[ Demo ad number 1 ]]&gt;
              &lt;/Description&gt;
              &lt;Error&gt;
                &lt;![CDATA[ ]]&gt;
              &lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear&gt;
                    &lt;Duration&gt;00:00:08&lt;/Duration&gt;
                    &lt;TrackingEvents/&gt;
                    &lt;AdParameters&gt;
                      &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                    &lt;MediaFiles&gt;
                      &lt;MediaFile type=&quot;video/mp4&quot; width=&quot;1280&quot; height=&quot;720&quot; delivery=&quot;progressive&quot; id=&quot;4&quot; bitrate=&quot;2115&quot; minBitrate=&quot;320&quot; maxBitrate=&quot;320&quot; scalable=&quot;true&quot; maintainAspectRatio=&quot;true&quot;&gt;
                        &lt;![CDATA[ https://general.support.brightcove.com/assets/ads/bc-ads/bcls-ad-1-8seconds.mp4 ]]&gt;
                      &lt;/MediaFile&gt;
                    &lt;/MediaFiles&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
&lt;/vmap:VMAP&gt;</code></pre>
</details>
</section>

<section class="bcls-section">
<h2 id="Testing_your_ad_tag">広告タグをテストする</h2>
<p>広告タグが有効で、期待どおりに機能することを確認することをお勧めします。これは、実装プロセス中に他の問題をデバッグするのに役立ちます。</p>
<ul>
  <li><a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/vastinspector">グーグルのビデオスイートのインスペクター</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Creating_an_ad_configuration">広告設定を作成する</h2>
<p>広告設定では、動画複数広告プレイリスト（VMAP）ファイルへの URL、ビーコン、その他の設定など、SSAI 再生のさまざまな側面を定義します。</p>

<h3>ビデオクラウドスタジオを使用する</h3>
<p>Studio を使用して広告構成を作成するには、「<a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">サーバーサイド広告設定の構成」</a>を参照してください。</p>

<h3>SSAI 広告設定 API を使用する</h3>
<p>API を使用して広告設定を作成するには、<a href="/vod/guides/video-cloud-ssai-ad-config-api.html">ビデオクラウド SSAI 広告設定 API</a>ドキュメントを参照してください。</p>
</section>

<section class="bcls-section">
<h2 id="Requesting_a_Video">ビデオのリクエスト</h2>
<p>次に、サーバーサイド広告で動画データを取得します。これを行うには、広告設定 ID を URL パラメーターとして再生 API 動画リクエストに追加します。</p>
<ul>
  <li>詳細については、概要の「SSAI <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#Video_request_with_SSAI">でのビデオリクエスト</a>」セクションを参照してください。再生 API ドキュメント。</li>
</ul>
<details>
    <summary><p id="Using_the_CodePen">再生APIレスポンスのサンプル</p></summary>
    <p>次に、再生 API レスポンスの例を示します。</p>
    <pre class="line-numbers"><code class="language-xml-doc" translate="No">{
  &quot;poster&quot;: &quot;https://cf-images.eu-west-1.prod.boltdns.net/v1/jit/1752604059001/dca41ae8-d8f5-48a6-9853-564764d60b84/main/1280x720/12s64ms/match/image.jpg&quot;,
  &quot;thumbnail&quot;: &quot;https://cf-images.eu-west-1.prod.boltdns.net/v1/jit/1752604059001/dca41ae8-d8f5-48a6-9853-564764d60b84/main/160x90/12s64ms/match/image.jpg&quot;,
  &quot;poster_sources&quot;: [{
    &quot;src&quot;: &quot;https://cf-images.eu-west-1.prod.boltdns.net/v1/jit/1752604059001/dca41ae8-d8f5-48a6-9853-564764d60b84/main/1280x720/12s64ms/match/image.jpg&quot;
  }],
  &quot;thumbnail_sources&quot;: [{
    &quot;src&quot;: &quot;https://cf-images.eu-west-1.prod.boltdns.net/v1/jit/1752604059001/dca41ae8-d8f5-48a6-9853-564764d60b84/main/160x90/12s64ms/match/image.jpg&quot;
  }],
  &quot;description&quot;: null,
  &quot;tags&quot;: [],
  &quot;cue_points&quot;: [],
  &quot;custom_fields&quot;: {},
  &quot;account_id&quot;: &quot;1752604059001&quot;,
  &quot;sources&quot;: [{
    &quot;ext_x_version&quot;: &quot;4&quot;,
    &quot;src&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/hls/v4/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/master.m3u8?bc_token=NWZmNGQ4ZDlfZjJkMjdkY2ZlZjNhODljNzVmNzlhZTkxZTM0YTBhMmQ5NzI3ZDVmMmZmODIwYjcyMjM0NzMyZDIyZDQ3NTUwZQ%3D%3D&quot;,
    &quot;type&quot;: &quot;application/x-mpegURL&quot;,
    &quot;vmap&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/hls/v4/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfOTY5ZjIzMzAzOTAxNzZhZjVlYjllOGJmMzA1YjI4MDE3OTM4NmEyZmRkYTc1OGNkZjM5NTAxMWUxYTE5ZGU5Yg%3D%3D&quot;
  }, {
    &quot;ext_x_version&quot;: &quot;4&quot;,
    &quot;src&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/hls/v4/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/master.m3u8?bc_token=NWZmNGQ4ZDlfZjJkMjdkY2ZlZjNhODljNzVmNzlhZTkxZTM0YTBhMmQ5NzI3ZDVmMmZmODIwYjcyMjM0NzMyZDIyZDQ3NTUwZQ%3D%3D&quot;,
    &quot;type&quot;: &quot;application/x-mpegURL&quot;,
    &quot;vmap&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/hls/v4/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfOTY5ZjIzMzAzOTAxNzZhZjVlYjllOGJmMzA1YjI4MDE3OTM4NmEyZmRkYTc1OGNkZjM5NTAxMWUxYTE5ZGU5Yg%3D%3D&quot;
  }, {
    &quot;codecs&quot;: &quot;avc1,mp4a&quot;,
    &quot;ext_x_version&quot;: &quot;7&quot;,
    &quot;src&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/hls/v7/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/master.m3u8?bc_token=NWZmNGQ4ZDlfNjVhYTczMDhmZWY5OWE5Zjk3OGJmNTczYjYyYWFmMGI3OWQxZTYyODc5YTk3NzJiOWY3MDk0NmZjOTVmZjVhMA%3D%3D&quot;,
    &quot;type&quot;: &quot;application/x-mpegURL&quot;,
    &quot;vmap&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/hls/v7/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfNzk5NzY0NThhOTlhZWY0OWI3NDc0MDQxMTQxNWMwZjVkYTFlYzdiZTRkMWE2ZmJjODRjODRkY2JlYjZjZWI1Mg%3D%3D&quot;
  }, {
    &quot;codecs&quot;: &quot;avc1,mp4a&quot;,
    &quot;ext_x_version&quot;: &quot;7&quot;,
    &quot;src&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/hls/v7/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/master.m3u8?bc_token=NWZmNGQ4ZDlfNjVhYTczMDhmZWY5OWE5Zjk3OGJmNTczYjYyYWFmMGI3OWQxZTYyODc5YTk3NzJiOWY3MDk0NmZjOTVmZjVhMA%3D%3D&quot;,
    &quot;type&quot;: &quot;application/x-mpegURL&quot;,
    &quot;vmap&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/hls/v7/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfNzk5NzY0NThhOTlhZWY0OWI3NDc0MDQxMTQxNWMwZjVkYTFlYzdiZTRkMWE2ZmJjODRjODRkY2JlYjZjZWI1Mg%3D%3D&quot;
  }, {
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;,
    &quot;src&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/dash/live-timeline/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/manifest.mpd?bc_token=NWZmNGQ4ZDlfN2Y5MzJhZmYxYjM5ZTRiZTIwNmFlNzg1NWIyOTY3NjlhMTMwZTllMGI2YzEwZmFlMTk2ZmEzODAwMDVlMWMxYw%3D%3D&quot;,
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;vmap&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/dash/live-timeline/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfY2JkMWY4NmY1ZDI2NDQ0NGY1YzAzYzMxNGY5NTJjY2MzYjljMTVjOGM3N2ZhZWRkNTU3YjgxYzkyMDQwOGIzYQ%3D%3D&quot;
  }, {
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;,
    &quot;src&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/dash/live-timeline/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/manifest.mpd?bc_token=NWZmNGQ4ZDlfN2Y5MzJhZmYxYjM5ZTRiZTIwNmFlNzg1NWIyOTY3NjlhMTMwZTllMGI2YzEwZmFlMTk2ZmEzODAwMDVlMWMxYw%3D%3D&quot;,
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;vmap&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/dash/live-timeline/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfY2JkMWY4NmY1ZDI2NDQ0NGY1YzAzYzMxNGY5NTJjY2MzYjljMTVjOGM3N2ZhZWRkNTU3YjgxYzkyMDQwOGIzYQ%3D%3D&quot;
  }, {
    &quot;codecs&quot;: &quot;avc1,mp4a&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;,
    &quot;src&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/dash/live-timeline/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/manifest.mpd?bc_token=NWZmNGQ4ZDlfNGY5Y2NlNjUyMjNiN2RjYTUyOTYyN2EwZjMzNmNiNjA3NzY4OTFjM2MxMDVhYzkzYzY0NzE5NDc4ZTI4MDc2ZQ%3D%3D&quot;,
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;vmap&quot;: &quot;http://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/dash/live-timeline/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfZWUxN2FkNjUxZTZmMTZkMzJmM2VhOTY0MTY1NTU1ZmJkNzhiMjgxMTg1ZmI1ZGY1ODcwYmVjOWUzM2E2NGVjMw%3D%3D&quot;
  }, {
    &quot;codecs&quot;: &quot;avc1,mp4a&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;,
    &quot;src&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/dash/live-timeline/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/manifest.mpd?bc_token=NWZmNGQ4ZDlfNGY5Y2NlNjUyMjNiN2RjYTUyOTYyN2EwZjMzNmNiNjA3NzY4OTFjM2MxMDVhYzkzYzY0NzE5NDc4ZTI4MDc2ZQ%3D%3D&quot;,
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;vmap&quot;: &quot;https://ssaimanifest.prod.boltdns.net/playback/once/v1/vmap/dash/live-timeline/clear/codec_avc1_mp4a/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/content.vmap?bc_token=NWZmNGQ4ZDlfZWUxN2FkNjUxZTZmMTZkMzJmM2VhOTY0MTY1NTU1ZmJkNzhiMjgxMTg1ZmI1ZGY1ODcwYmVjOWUzM2E2NGVjMw%3D%3D&quot;
  }],
  &quot;name&quot;: &quot;Mt Audubon&quot;,
  &quot;reference_id&quot;: null,
  &quot;long_description&quot;: null,
  &quot;duration&quot;: 24128,
  &quot;economics&quot;: &quot;AD_SUPPORTED&quot;,
  &quot;text_tracks&quot;: [],
  &quot;published_at&quot;: &quot;2020-05-14T18:51:30.532Z&quot;,
  &quot;created_at&quot;: &quot;2020-05-14T18:51:30.502Z&quot;,
  &quot;updated_at&quot;: &quot;2020-05-14T19:46:00.320Z&quot;,
  &quot;offline_enabled&quot;: false,
  &quot;link&quot;: null,
  &quot;id&quot;: &quot;6156696074001&quot;,
  &quot;ad_keys&quot;: null
}</code></pre>
</details>
</section>

<section class="bcls-section">
<h2 id="Configuring_your_player">プレーヤーの設定</h2>
<p>Playback API レスポンス (上のセクション) から、<code translate="No">Sources</code>オブジェクトを見つけ、<code translate="No">vmap</code> URL の 1 つをコピーしてブラウザの検索バーに貼り付けて、VMAP レスポンス。</p>
<details>
    <summary><p id="Using_the_CodePen">VMAP レスポンスのサンプル</p></summary>
    <p>次に、vmap レスポンスの例を示します。</p>
    <pre class="line-numbers"><code class="language-xml-doc" translate="No">&lt;vmap:VMAP xmlns:bc=&quot;bc&quot; xmlns:vmap=&quot;http://www.iab.net/vmap-1.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;1.0&quot;&gt;
  &lt;vmap:Extensions&gt;
    &lt;bc:Brightcove ttl=&quot;3600&quot; <span class="bcls-highlight">contenturi=&quot;https://ssaimanifest.prod.boltdns.net/us-east-1/playback/once/v1/hls/v4/clear/1752604059001/d6190656-2095-4ff3-8afe-1a0b60d67ed2/dca41ae8-d8f5-48a6-9853-564764d60b84/6830b2e4-3298-439d-beef-e04abef9f23c/content.m3u8?bc_token=NWZkMTE5NTlfZWQxNDAzNDRkNTAxNDRlMWEwODU3MTI1MzY2YjAyZWQ5YzlmZTkzY2UwMjM5NTM1MmI2NGRjZDNhNjE2ZDhlOA%3D%3D&quot;</span>
    <span class="bcls-highlight">contentlength=&quot;24.0574&quot;</span> <span class="bcls-highlight">payloadlength=&quot;50.1835&quot;</span> contenttype=&quot;application/x-mpegURL&quot; /&gt;
    &lt;bc:thumbnailURL type=&quot;thumbnail&quot; width=&quot;480&quot; height=&quot;270&quot; bandwidth=&quot;0&quot;&gt;https://ssai.playback.us-east-1.prod.deploys.brightcove.com/v1/thumbnail/1752604059001/dca41ae8-d8f5-48a6-9853-564764d60b84/low-res/6830b2e4-3298-439d-beef-e04abef9f23c/thumbnail.vtt?bc_token=NWZkMTE5NTlfMmVmODIzZDJjMGZkMDBjZjY1YWIxNDQ4Y2YyZmUxYTExNzg5YmIxZDI5ZTdkMjgyODBmMDBmYTViMTE2Yzc0MQ%3D%3D&lt;/bc:thumbnailURL&gt;
  &lt;/vmap:Extensions&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;PreRoll_0_0&quot; <span class="bcls-highlight">timeOffset=&quot;start&quot;</span>&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;0&quot;&gt;
      &lt;vmap:VASTData&gt;
        &lt;VAST xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
          &lt;Ad id=&quot;1&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;Portals&lt;/AdTitle&gt;
              &lt;Description&gt;Demo ad number 6&lt;/Description&gt;
              &lt;Error&gt;&lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear&gt;
                    &lt;CreativeExtensions&gt;
                      &lt;CreativeExtension&gt;
                        &lt;BrightcoveForeignKey&gt;1&lt;/BrightcoveForeignKey&gt;
                      &lt;/CreativeExtension&gt;
                    &lt;/CreativeExtensions&gt;
                    <span class="bcls-highlight">&lt;Duration&gt;00:00:05.9392&lt;/Duration&gt;</span>
                    &lt;AdParameters&gt;
                      &lt;xml&gt;&lt;/xml&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;MidRoll_5_0&quot; <span class="bcls-highlight">timeOffset=&quot;00:00:04.8381&quot;</span>&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;1&quot;&gt;
      &lt;vmap:VASTData&gt;
        &lt;VAST xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
          &lt;Ad id=&quot;2&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;Marketing&lt;/AdTitle&gt;
              &lt;Description&gt;Demo ad number 4&lt;/Description&gt;
              &lt;Error&gt;&lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear skipoffset=&quot;00:00:05&quot;&gt;
                    &lt;CreativeExtensions&gt;
                      &lt;CreativeExtension&gt;
                        &lt;BrightcoveForeignKey&gt;2&lt;/BrightcoveForeignKey&gt;
                      &lt;/CreativeExtension&gt;
                    &lt;/CreativeExtensions&gt;
                    <span class="bcls-highlight">&lt;Duration&gt;00:00:12.1788&lt;/Duration&gt;</span>
                    &lt;AdParameters&gt;
                      &lt;xml&gt;&lt;/xml&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;PostRoll_24_0&quot; <span class="bcls-highlight">timeOffset=&quot;end&quot;</span>&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;2&quot;&gt;
      &lt;vmap:VASTData&gt;
        &lt;VAST xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
          &lt;Ad id=&quot;3&quot;&gt;
            &lt;InLine&gt;
              &lt;AdSystem&gt;Test Ad Server&lt;/AdSystem&gt;
              &lt;AdTitle&gt;Brand&lt;/AdTitle&gt;
              &lt;Description&gt;Demo ad number 1&lt;/Description&gt;
              &lt;Error&gt;&lt;/Error&gt;
              &lt;Creatives&gt;
                &lt;Creative&gt;
                  &lt;Linear&gt;
                    &lt;CreativeExtensions&gt;
                      &lt;CreativeExtension&gt;
                        &lt;BrightcoveForeignKey&gt;3&lt;/BrightcoveForeignKey&gt;
                      &lt;/CreativeExtension&gt;
                    &lt;/CreativeExtensions&gt;
                    <span class="bcls-highlight">&lt;Duration&gt;00:00:08.0080&lt;/Duration&gt;</span>
                    &lt;AdParameters&gt;
                      &lt;xml&gt;&lt;/xml&gt;
                    &lt;/AdParameters&gt;
                    &lt;VideoClicks/&gt;
                  &lt;/Linear&gt;
                &lt;/Creative&gt;
              &lt;/Creatives&gt;
              &lt;Extensions&gt;
                &lt;Extension&gt;
                  &lt;xml&gt;data&lt;/xml&gt;
                &lt;/Extension&gt;
              &lt;/Extensions&gt;
            &lt;/InLine&gt;
          &lt;/Ad&gt;
        &lt;/VAST&gt;
      &lt;/vmap:VASTData&gt;
    &lt;/vmap:AdSource&gt;
  &lt;/vmap:AdBreak&gt;
&lt;/vmap:VMAP&gt;</code></pre>
</details>

<h3>VMAP 拡張機能</h3>
<p>VMAP 応答では、<code translate="No">&lt;vmap:Extensions&gt;</code>ブライトコーブはセクションを追加します。</p>
<p><code translate="No">&lt;bc:Brightcove&gt;</code>エクステンションセクションのタグには、次の属性が関連付けられています。</p>
<table class="bcls-table">
    <caption class="bcls-caption--table">VMAP 応答フィールドアトリビュート</caption>
    <thead class="bcls-table__head">
        <tr>
            <th>[属性]</th>
            <th>説明</th>
        </tr>
    </thead>
    <tbody class="bcls-table__body">
        <tr>
            <td><code translate="No">contenturi</code></td>
            <td>セッション固有のマニフェストへの参照-これはプレイヤーにロードすべきものです</td>
        </tr>
        <tr>
            <td><code translate="No">contentlength</code></td>
            <td>コンテンツビデオの再生時間</td>
        </tr>
        <tr>
            <td><code translate="No">payloadlength</code></td>
            <td>総ステッチされたストリームの持続時間</td>
        </tr>
    </tbody>
</table>

<h3>広告休憩</h3>
<p>各広告ブロックには、次の属性が関連付けられています。</p>
<table class="bcls-table">
    <caption class="bcls-caption--table">VMAP 応答フィールド</caption>
    <thead class="bcls-table__head">
        <tr>
            <th>[属性]</th>
            <th>説明</th>
        </tr>
    </thead>
    <tbody class="bcls-table__body">
        <tr>
            <td><code translate="No">timeoffset</code></td>
            <td>これは、<code translate="No">start</code>、<code translate="No">end</code>、または特定の時間であり、計算する必要があります。ポッドに複数の広告がある場合、同じ「コンテンツ時間」に挿入されるため、同じオフセットを設定できます。</td>
        </tr>
    </tbody>
</table>

<p>各広告ブロックには、次のタグが関連付けられています。</p>
<table class="bcls-table">
    <caption class="bcls-caption--table">VMAP 応答フィールド</caption>
    <thead class="bcls-table__head">
        <tr>
            <th>タグ</th>
            <th>説明</th>
        </tr>
    </thead>
    <tbody class="bcls-table__body">
        <tr>
            <td><code translate="No">Duration</code></td>
            <td>これは、挿入する広告の長さを識別します。</td>
        </tr>
    </tbody>
</table>
<h4>備考</h4>
<p>広告戦略を作成する際には、以下の点に留意してください。</p>
<ul>
  <li><code translate="No">start</code>オフセットでは、デュレーションの広告が 3 つあり<code translate="No">00:00:16.0000</code>、その結果、プリロールポッドの合計長は 48 秒になります。つまり、実際のコンテンツ開始時刻は、実際にステッチされたマニフェストの 48 秒のマークになります。</li>
  <li>さまざまな広告要素のうち、最も関連性の高いのはおそらく有効にする URL リンクを識別するためです。<code translate="No">ClickThrough</code><code translate="No">ClickTracking</code>関連する要素は、ユーザーがリンクをクリックしたときにビーコンされるべきであることに注意してください。</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Ad_tag_variables">広告タグ変数</h2>
<p>広告タグ変数を使用すると、広告をターゲットに設定できます。</p>
<p><code translate="No">{% raw %}{{url.*}}{% endraw %}</code>広告構成にマクロがある場合は、VMAP をリクエストするときにクエリパラメータとして追加する必要があります。</p>
<p>たとえば、次のようなマクロ</p>
<pre><code class="language-html" translate="No">{% raw %}{{url.deviceId}}{% endraw %}</code></pre>
<p> のようなクエリパラメータとして追加する必要があります</p>
<pre><code class="language-html" translate="No">?deviceId=xyz</code></pre>
<p>詳細については、<a href="https://ssai.support.brightcove.com/vod/guides/video-cloud-ssai-ad-config-api.html#Ad_variables">ビデオクラウド SSAI 広告設定 API</a>ドキュメントを参照してください。</p>
</section>

<section class="bcls-section">
<h2 id="Server_side_beaconing">サーバー側のビーコン</h2>
<p>サーバー側のインプレッションと四分位/完全なビーコンを起動するようにビーコンを設定できます。</p>
<ul>
  <li>SSAI を使用する際の VAST 広告エラービーコンは、広告ワークフローに関する問題をプロアクティブに検出して解決するのに役立ちます。詳細については、SSAI <a href="https://ssai.support.brightcove.com/vod/guides/ad-error-beacons-ssai.html"></a>を使用した広告エラービーコンのドキュメントを参照してください。</li>
  <li>VAST 標準ビーコンも使用できます。詳細については、「<a href="https://www.iab.com/guidelines/vast/">デジタル動画広告配信テンプレート (VAST)」</a>を参照してください。</li>
</ul>
</section>

</article>
